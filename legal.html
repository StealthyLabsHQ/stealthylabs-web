<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-key="legal_page_title">Mentions Légales - StealthyLabs</title>
    <link rel="icon" type="image/png" href="logos/favicon.png">
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Comfortaa&family=Dancing+Script&family=Inter:wght@400;700&family=Montserrat&family=Open+Sans&family=Oswald&family=Playfair+Display&family=Poppins&family=Raleway:wght@400;700&family=Roboto&display=swap" rel="stylesheet">
    
    <style>
        body { display: block; padding: 0; }
        .legal-container { max-width: 800px; margin: 0 auto; padding: 40px 20px; font-family: var(--main-font, 'Raleway', sans-serif); }
        h1 { color: #fff; margin-bottom: 20px; font-size: 2rem; }
        h2 { color: #b91d1d; margin-top: 30px; margin-bottom: 10px; font-size: 1.2rem; }
        p, li { color: #ccc; margin-bottom: 15px; line-height: 1.6; }
        ul { margin-bottom: 15px; }
        .back-btn { display: inline-block; margin-bottom: 20px; color: #888; text-decoration: none; font-size: 0.9rem; transition: color 0.2s;}
        .back-btn:hover { color: #fff; }
    </style>
</head>
<body>
    <div class="legal-container">
        <a href="/" class="back-btn" data-key="legal_back">← Retour au site</a>
        
        <h1 data-key="legal_title">Mentions Légales & Confidentialité</h1>

        <h2 data-key="legal_1_title">1. Éditeur du site</h2>
        <p data-key="legal_1_text">Chargement...</p>

        <h2 data-key="legal_2_title">2. Hébergement</h2>
        <p data-key="legal_2_text">Chargement...</p>

        <h2 data-key="legal_3_title">3. Données personnelles & Cookies</h2>
        <p data-key="legal_3_text_1">Chargement...</p>
        
        <p data-key="legal_3_text_2">Chargement...</p>
        <ul style="color:#ccc; margin-left:20px;">
            <li data-key="legal_3_li_1">Langue</li>
            <li data-key="legal_3_li_2">Police</li>
        </ul>
        <p data-key="legal_3_text_3">Chargement...</p>

        <h2 data-key="legal_4_title">4. Liens Externes</h2>
        <p data-key="legal_4_text">Chargement...</p>
    </div>

    <script>
        let currentLang = localStorage.getItem('userLang') || (navigator.language.startsWith('fr') ? 'fr' : 'en');
        
        const savedFont = localStorage.getItem('userFont');
        if (savedFont) document.documentElement.style.setProperty('--main-font', savedFont);

        fetch(`translations/${currentLang}.json`)
            .then(response => response.json())
            .then(translations => {
                document.querySelectorAll('[data-key]').forEach(elem => {
                    const key = elem.getAttribute('data-key');
                    if (translations[key]) {
                        if (translations[key].includes('<')) {
                            elem.innerHTML = translations[key];
                        } else {
                            elem.innerText = translations[key];
                        }
                    }
                });
            })
            .catch(err => console.error("Erreur chargement langue:", err));
    </script>
</body>
</html>